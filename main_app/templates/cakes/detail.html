{% extends 'base.html' %}
{% block content %}

  <h1 id="detail-title">{{ cake.name }}</h1>
  <p id="detail-createdby">Created By: {{ cake.user.username }} on {{ cake.creation_date }}</p>

    <div class="card-content" id="tag-div">
      {% for tag in cake.tags.all %}
      <a href="{% url 'cakes_by_tag' tag.slug %}" class="btn" id="tag-btn">{{tag.name}}</a>
      {% endfor %}
    </div>
    <p id="tag-p">View tags for more related content</p>

    <div class="container" id="detail-container" style="align-items: center;">
    <div class="card-content" id="photos-div">
      <form action="{% url 'add_photo' cake.id %}" enctype="multipart/form-data" method="POST" alt="Cake Photo" class="card-panel">
        {% csrf_token %}
        <input class="choose-file" type="file" name="photo-file">
        <input type="submit" class="btn" value="Upload Photo">
      </form>
      {% for photo in cake.photo_set.all %}
      <img class="card-img-top img-fluid" src="{{photo.url}}" alt="cake" id="detail-pic">
      {% empty %}
      <img class="card-img-top img-fluid" id="detail-pic" src="https://images.unsplash.com/photo-1557925923-cd4648e211a0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=686&q=80" alt="cake">
      {% endfor %}
    </div>

    <div class="card-content" id="description-div">
      <p id="det-desc">Description: {{ cake.description }}</p>
    </div>

    <div class="card-content" id="recipe-div">
      <p>Recipe: {{ cake.recipe }}</p>
    </div>

    <div class="card-action" id="func-div">
        <a href="{% url 'cakes_update' cake.id %}">Edit</a>
        <a href="{% url 'cakes_delete' cake.id %}">Delete</a>
    </div>

  </div>

{% endblock %}
